---
import { createSupabaseServerClient } from '@backend/supabaseServerClient';
import { getLangFromUrl } from '@i18n';

const supabase = await createSupabaseServerClient(Astro.request, Astro.cookies);

const lang = getLangFromUrl(Astro.url);

return supabase ? Astro.redirect(`/${lang}/projects`) : Astro.redirect(`/${lang}/sign-in`);
---

